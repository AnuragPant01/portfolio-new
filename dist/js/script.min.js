const hamburger=document.getElementById("hamburger"),navMenu=document.getElementById("nav-menu");hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active"),navMenu.classList.toggle("active")}),document.querySelectorAll(".nav-link").forEach(e=>e.addEventListener("click",()=>{hamburger.classList.remove("active"),navMenu.classList.remove("active")})),window.addEventListener("scroll",()=>{const e=document.getElementById("navbar");window.scrollY>100?e.classList.add("scrolled"):e.classList.remove("scrolled")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})});const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("loaded")})},observerOptions);document.querySelectorAll(".section").forEach(e=>{e.classList.add("loading"),observer.observe(e)}),window.addEventListener("scroll",()=>{const e=window.pageYOffset,t=document.querySelector(".hero"),n=.5*e;t&&(t.style.transform=`translateY(${n}px)`)});const titleLines=document.querySelectorAll(".title-line");titleLines.forEach((e,t)=>{e.style.animationDelay=.2+.2*t+"s"}),emailjs.init("rivhWoDJ01mZHQR14");const contactForm=document.querySelector(".contact-form");function showNotification(e,t){const n=document.createElement("div");n.className=`notification ${t}`,n.innerHTML=`\n        <div class="notification-content">\n            <i class="fas ${"success"===t?"fa-check-circle":"fa-exclamation-circle"}"></i>\n            <span>${e}</span>\n        </div>\n    `,document.body.appendChild(n),setTimeout(()=>{n.classList.add("show")},100),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>{document.body.removeChild(n)},300)},5e3)}contactForm&&contactForm.addEventListener("submit",function(e){e.preventDefault();const t=new FormData(this),n={};t.forEach((e,t)=>{n[t]=e});const o=this.querySelector('button[type="submit"]'),r=o.innerHTML;o.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',o.disabled=!0,emailjs.send("service_ljtrey9","template_s3br3xw",{to_name:"Anurag Pant",from_name:n.name,from_email:n.email,subject:n.subject,message:n.message,reply_to:n.email}).then(function(e){showNotification("Thank you for your message! I'll get back to you soon.","success"),contactForm.reset()},function(e){showNotification("Sorry, there was an error sending your message. Please try again.","error")}).finally(function(){o.innerHTML=r,o.disabled=!1})});const animateOnScroll=()=>{document.querySelectorAll(".timeline-item, .project-card, .skill-item, .stat-item").forEach(e=>{e.getBoundingClientRect().top<window.innerHeight-150&&e.classList.add("loaded")})};window.addEventListener("scroll",animateOnScroll),window.addEventListener("load",()=>{animateOnScroll();document.querySelectorAll(".floating-card").forEach((e,t)=>{e.style.animationDelay=2*t+"s"})});const createCursorTrail=()=>{const e=document.createElement("div");e.className="cursor-trail",document.body.appendChild(e),document.addEventListener("mousemove",t=>{e.style.left=t.clientX+"px",e.style.top=t.clientY+"px"})},cursorStyle=document.createElement("style");cursorStyle.textContent="\n    .cursor-trail {\n        position: fixed;\n        width: 20px;\n        height: 20px;\n        background: radial-gradient(circle, rgba(255,107,53,0.3) 0%, transparent 70%);\n        border-radius: 50%;\n        pointer-events: none;\n        z-index: 9999;\n        transition: transform 0.1s ease;\n    }\n",document.head.appendChild(cursorStyle),window.innerWidth>768&&createCursorTrail();const heroTitle=document.querySelector(".hero-title");heroTitle&&(heroTitle.addEventListener("mouseenter",()=>{heroTitle.style.animation="glitch 0.3s ease-in-out"}),heroTitle.addEventListener("animationend",()=>{heroTitle.style.animation=""}));const glitchStyle=document.createElement("style");glitchStyle.textContent="\n    @keyframes glitch {\n        0% { transform: translate(0); }\n        20% { transform: translate(-2px, 2px); }\n        40% { transform: translate(-2px, -2px); }\n        60% { transform: translate(2px, 2px); }\n        80% { transform: translate(2px, -2px); }\n        100% { transform: translate(0); }\n    }\n",document.head.appendChild(glitchStyle);const burger=document.getElementById("hamburger");burger.addEventListener("click",()=>{navMenu.classList.toggle("open"),burger.classList.toggle("open")}),document.querySelectorAll(".nav-link").forEach(e=>{e.addEventListener("click",()=>{navMenu.classList.remove("open"),burger.classList.remove("open")})});const astronaut=document.querySelector(".astronaut");document.addEventListener("mousemove",e=>{if(window.innerWidth>900&&astronaut){const t=30*(e.clientX/window.innerWidth-.5),n=30*(e.clientY/window.innerHeight-.5);astronaut.style.transform=`translate(${t}px,${n}px)`}});